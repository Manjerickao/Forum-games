<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Quiz FG</title>
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background: url('https://img4.gelbooru.com//samples/87/b5/sample_87b579bd9af5301a27dec5feed78a3d2.jpg') no-repeat center center fixed;
        background-size: cover;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        color: white;
    }

    #quiz-box {
        background: rgba(0, 0, 0, 0.65);
        padding: 25px;
        border-radius: 20px;
        width: 650px;
        text-align: center;
        display: none;
        position: relative;
    }

    .options {
        display: flex;
        flex-direction: row;
        justify-content: center;
        gap: 40px;
        margin-top: 20px;
        position: relative;
    }

    .btn {
        padding: 10px 20px;
        border-radius: 10px;
        border: none;
        font-size: 18px;
        cursor: pointer;
        transition: 0.15s;
        background: #ffffffcc;
        color: black;
        font-weight: bold;
        position: static;
    }

    .btn:hover {
        transform: scale(1.06);
        background: white;
    }

    #next-btn {
        margin-top: 25px;
        display: none;
        background: #4CAF50;
        color: white;
    }

    #correct-msg {
        margin-top: 25px;
        font-size: 20px;
        color: #7CFC00;
        font-weight: bold;
        display: none;
    }

    #gift {
        font-size: 26px;
        margin-top: 20px;
        font-weight: bold;
    }

    #gift-box{display:none;margin-top:20px;cursor:pointer;text-align:center;position:relative;height:220px}
    #gift-box .box{display:inline-block;transform-origin:center center;transition:transform 0.25s ease, box-shadow 0.25s ease}
    #gift-img{width:180px;transition:transform 0.35s ease}

    .box.pulse{animation:pulse 1s ease-in-out infinite}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}

    .box.jump{animation:jump 0.6s ease}
    @keyframes jump{0%{transform:translateY(0)}30%{transform:translateY(-18px)}60%{transform:translateY(-8px)}100%{transform:translateY(0)}}

    .box.shine::after{content:'';position:absolute;left:0;top:-30px;width:220px;height:220px;background:radial-gradient(circle at 30% 20%, rgba(255,255,255,0.55), rgba(255,255,255,0.15) 10%, rgba(255,255,255,0) 30%);transform:rotate(25deg);opacity:0;animation:shine 1s ease-in-out 0s forwards;z-index:4}
    @keyframes shine{0%{opacity:0;transform:translateX(-40%) scale(0.9)}50%{opacity:1;transform:translateX(0%) scale(1)}100%{opacity:0;transform:translateX(40%) scale(1.05)}}

    .particles{position:absolute;left:0;right:0;bottom:10px;top:0;pointer-events:none;overflow:visible}
    .particle{position:absolute;border-radius:50%;opacity:0;pointer-events:none;animation:rise 1000ms forwards cubic-bezier(.2,.8,.2,1)}
    @keyframes rise{0%{transform:translateY(0) scale(0.6);opacity:1}100%{transform:translateY(-140px) scale(1.3);opacity:0}}

    .overlay {
        position: fixed;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: rgba(0,0,0,0.6);
        z-index: 9999;
    }
    .overlay img {
        width: 320px;
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(255,255,255,0.08);
        animation: pop 0.35s ease;
    }

    .cat-msg {
        color: white;
        margin-top: 20px;
        font-size: 26px;
        animation: floatMsg 2s ease-in-out infinite;
        text-shadow: 0 0 8px rgba(255,255,255,0.6);
    }
    @keyframes floatMsg {
        0% { transform: translateY(0); opacity: 0.85; }
        50% { transform: translateY(-8px); opacity: 1; }
        100% { transform: translateY(0); opacity: 0.85; }
    }
</style>
</head>
<body>

<div id="start-screen" style="text-align:center; background: rgba(0,0,0,0.75); padding:25px; border-radius:20px;">
  <div style="display:flex; align-items:center; justify-content:center; gap:20px;">
    <div style="max-width:340px; background:white; color:black; padding:15px; border-radius:15px; position:relative; font-size:17px; line-height:1.4; font-weight:bold;">
      Yoo Jakkun ðŸ‘‹  happy Thanksgiving!<br><br>
      Looks like you were lucky enough to get my super gift hehe<br>
      But first answer the following questions<br>
      You are free to choose whatever you want ðŸ˜‰
      <div style="content:''; position:absolute; right:-20px; top:40%; width:0; height:0; border-top:15px solid transparent; border-bottom:15px solid transparent; border-left:20px solid white;"></div>
    </div>
    <img src="https://i.pinimg.com/1200x/5b/8d/39/5b8d392e79fda40a7034c5344689ec2b.jpg" style="width:140px; border-radius:15px;">
  </div>

  <button class="btn" id="start-btn" style="margin-top:18px;">ComeÃ§ar</button>
</div>

<div id="quiz-box">
    <div id="gift-box">
        <div class="box" aria-hidden="false">
            <img id="gift-img" src="https://freesvg.org/img/flat_blue_giftbox_col.png" alt="presente">
        </div>
        <div class="particles" aria-hidden="true"></div>
    </div>

    <h2 id="question"></h2>
    <div class="options" id="options"></div>

    <div id="correct-msg"></div>
    <button id="next-btn" class="btn">Next Question</button>

    <div id="gift"></div>
</div>

<script>
const quiz = [
    {
        q: "Who is the most handsome user on FG??",
        options: ["Unfeignerdy", "IPreferEcchi", "Absurdo_N", "You"],
        correct: "Unfeignerdy"
    },
    {
        q: "Who is the true Goat of FG in your opinion?",
        options: ["JustDefending", "Goatnerd", "Barrycade", "Snowblood"],
        correct: "Goatnerd"
    },
    {
        q: "You can only choose one of these people to save from the end of the world. Who would you choose?",
        options: ["Mia Khalifa", "Your mom", "Exusial", "Unfeignerdy"],
        correct: "Unfeignerdy"
    }
];

let i = 0;
let speedMultiplier = 2.5;

function loadQuestion() {
    const nextBtn = document.getElementById("next-btn");
    if (i === quiz.length - 1) {
        nextBtn.textContent = "Get gift ðŸŽ";
    } else {
        nextBtn.textContent = "Next Question";
    }
    const q = quiz[i];

    document.getElementById("question").innerText = q.q;
    document.getElementById("correct-msg").style.display = "none";
    document.getElementById("next-btn").style.display = "none";

    document.getElementById('gift-box').style.display = 'none';
    document.getElementById('gift').innerHTML = '';

    const opts = document.getElementById("options");
    opts.innerHTML = "";

    q.options.forEach(option => {
        const btn = document.createElement("button");
        btn.className = "btn";
        btn.innerText = option;
        btn.style.position = "static";

        if (option === q.correct) {
            btn.addEventListener('click', () => {
                showCorrectMessage();
            });
        } else {
            btn.addEventListener('mouseover', (e) => flee(btn, e));
        }

        opts.appendChild(btn);
    });
}

function flee(btn, ev) {
    const mx = ev.clientX;
    const my = ev.clientY;

    const btnRect = btn.getBoundingClientRect();
    const bx = btnRect.left + btn.offsetWidth / 2;
    const by = btnRect.top + btn.offsetHeight / 2;

    const dist = Math.sqrt((bx - mx) ** 2 + (by - my) ** 2) || 1;

    if (dist < 140) {
        const maxX = window.innerWidth - btn.offsetWidth - 30;
        const maxY = window.innerHeight - btn.offsetHeight - 30;

        const randomX = Math.random() * maxX;
        const randomY = Math.random() * maxY;

        btn.style.transition = "none"; 
        btn.style.position = "fixed";
        btn.style.left = randomX + "px";
        btn.style.top = randomY + "px";
        
        btn.style.opacity = "0";
        setTimeout(() => {
            btn.style.transition = "opacity 0.12s ease";
            btn.style.opacity = "1";
        }, 20);

        return;
    }

    const speed = 160 + Math.random() * 250;

    let dx = (bx - mx) / dist * speed;
    let dy = (by - my) / dist * speed;

    const newX = Math.min(Math.max(btnRect.left + dx, 0), window.innerWidth - btn.offsetWidth);
    const newY = Math.min(Math.max(btnRect.top + dy, 0), window.innerHeight - btn.offsetHeight);

    btn.style.transition = "left 0.2s ease-out, top 0.2s ease-out";
    btn.style.position = "fixed";
    btn.style.left = newX + "px";
    btn.style.top = newY + "px";
}


const correctMessages = [
    "ðŸ˜º Hehe thanks I agree with you",
    "ðŸ™€ Agreeee!! screw JD and Barry, the true GOAT is me, and Snow comes right after in second place heheh",
    "ðŸ˜¸ðŸ¤­ Thank youuu haha even though you killed me in that game hosted by Wendy, I think you're now worthy of receiving my gift"
];

function showCorrectMessage() {
    const msg = document.getElementById("correct-msg");

    msg.innerText = correctMessages[i];
    msg.style.display = "block";

    const allBtns = document.querySelectorAll("#options .btn");
    allBtns.forEach(b => {
        b.style.pointerEvents = "none";   
    });

    allBtns.forEach(btn => {
        if (btn.innerText !== quiz[i].correct) {
            btn.style.transition = "opacity 0.25s ease, transform 0.25s ease";
            btn.style.opacity = "0";
            btn.style.transform = "scale(0.6)";
            setTimeout(() => btn.style.display = "none", 250);
        }
    });

    const nextBtn = document.getElementById("next-btn");
    nextBtn.style.display = "inline-block";
}


function nextQuestion() {
    i++;
    if (i < quiz.length) loadQuestion();
    else showGift();
}

function showGift() {
    document.getElementById("question").innerText = "ðŸŽ Tap the box to open your gift:";
    document.getElementById("options").innerHTML = "";
    document.getElementById("correct-msg").style.display = "none";
    document.getElementById("next-btn").style.display = "none";
    document.getElementById("gift").innerHTML = `
            <h2>ðŸŽ‰ Congratulations!</h2>
            Congrats for snagging this super gift!:<br><br>
            <img src="https://i.pinimg.com/736x/77/aa/6e/77aa6e0b27539ffa404863a3acf0dc3b.jpg" style="width:260px; border-radius:15px; box-shadow:0 0 15px white;">
        `;

    const boxWrapper = document.getElementById("gift-box");
    if (!boxWrapper) return;
    boxWrapper.style.display = "block";
    const box = boxWrapper.querySelector('.box');
    const particlesContainer = boxWrapper.querySelector('.particles');

    if (!box) {
        const img = boxWrapper.querySelector('#gift-img');
        const newBox = document.createElement('div');
        newBox.className = 'box';
        if (img) newBox.appendChild(img);
        boxWrapper.insertBefore(newBox, boxWrapper.firstChild);
    }

    const finalBox = boxWrapper.querySelector('.box');

    finalBox.className = 'box';
    document.getElementById('gift').innerHTML = '';

    finalBox.onclick = null;
    finalBox.addEventListener('click', function handler() {
        finalBox.classList.add('jump');
        setTimeout(() => finalBox.classList.remove('jump'), 600);

        finalBox.classList.add('open','pulse','shine');

        document.getElementById('question').innerText = '';
        createParticles(particlesContainer);

        setTimeout(() => {
            document.getElementById('gift').innerHTML = "âœ¨Happy Thanksgiving!âœ¨";
            setTimeout(() => finalBox.classList.remove('pulse','shine'), 1200);
        }, 700);

        showThanksgivingGift();

        finalBox.removeEventListener('click', handler);
    });
}

function createParticles(container) {
    if (!container) return;
    const count = 18;
    for (let j = 0; j < count; j++) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.style.left = (50 + (Math.random() - 0.5) * 80) + '%';
        p.style.bottom = '20px';
        p.style.background = ['#FFD700','#FF69B4','#7CFC00','#00BFFF'][Math.floor(Math.random()*4)];
        const size = Math.floor(Math.random()*10)+6;
        p.style.width = size + 'px';
        p.style.height = size + 'px';
        container.appendChild(p);
        setTimeout(() => { try { p.remove(); } catch(e){} }, 1200 + Math.random()*400);
    }
}

function startQuiz() {
    document.getElementById("start-screen").style.display = "none";
    document.getElementById("quiz-box").style.display = "block";
    loadQuestion();
}

document.addEventListener('DOMContentLoaded', () => {
    const startBtn = document.getElementById('start-btn');
    if (startBtn) startBtn.addEventListener('click', startQuiz);

    const nextBtn = document.getElementById('next-btn');
    if (nextBtn) nextBtn.addEventListener('click', nextQuestion);

    const boxWrapper = document.getElementById('gift-box');
    if (boxWrapper) {
        if (!boxWrapper.querySelector('.box')) {
            const img = boxWrapper.querySelector('#gift-img');
            const newBox = document.createElement('div');
            newBox.className = 'box';
            if (img) newBox.appendChild(img);
            boxWrapper.insertBefore(newBox, boxWrapper.firstChild);
        }
        if (!boxWrapper.querySelector('.particles')) {
            const p = document.createElement('div');
            p.className = 'particles';
            boxWrapper.appendChild(p);
        }
    }
});
</script>

<script>
function showThanksgivingGift() {
    if (document.getElementById('catburger-overlay')) return;

    const overlay = document.createElement('div');
    overlay.id = 'catburger-overlay';
    overlay.className = 'overlay';

    const img = document.createElement('img');
    img.src = 'https://i.pinimg.com/736x/77/aa/6e/77aa6e0b27539ffa404863a3acf0dc3b.jpg';
    img.alt = 'Catburger';

    overlay.appendChild(img);
    const msg = document.createElement('div');
    msg.textContent = 'Congrats for snagging this super gift!';
    msg.className = 'cat-msg';
    overlay.appendChild(msg);

    document.body.appendChild(overlay);

    overlay.addEventListener('click', (e) => {
        if (e.target === overlay) overlay.remove();
    });
}
</script>

</body>
</html>
